<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">

<title>Vietnamese + English Civics Flashcards</title>

<style>

  /* üîπ Disable Safari double-tap and focus zoom */
html, body {
  touch-action: manipulation;      /* stops double-tap zoom */
  -webkit-touch-callout: none;     /* prevents text menu on long press */
}

button, input {
  font-size: 16px !important;      /* iOS needs at least 16px to prevent zoom */
  touch-action: manipulation;      /* no double-tap zoom on buttons/inputs */
  user-select: none;               /* prevents text selection */
  -webkit-user-select: none;
  -webkit-tap-highlight-color: transparent; /* removes gray flash */
}

* {
  -webkit-text-size-adjust: 100%;  /* disables auto font resizing on iOS */
}

  input, button, select, textarea {
  font-size: 16px !important; /* prevents Safari zoom on tap */
}

body {
  touch-action: manipulation; /* prevents double-tap zoom */
}

* {
  -webkit-tap-highlight-color: transparent; /* removes flash highlight */
}
button {
  user-select: none;
  -webkit-user-select: none;
}

  html {
    -webkit-text-size-adjust: 100%; /* Prevent font zoom on iOS */
  }

  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    text-align: center;
    overflow-x: hidden;
  }

  /* üîπ Title */
  h2 {
    margin-top: 1vh;
    font-size: 8vw;
    font-weight: bold;
    color: #003366;
  }

  p {
    line-height: 1.4;
    font-size: 4.5vw;
  }

  /* üîπ Flashcard container */
  .flashcard {
    width: 95vw;
    height: 50vh;
    margin: 2vh auto 8vh auto;
    perspective: 1000px;
  }

  .card {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.6s;
    cursor: pointer;
  }

  .card.flip {
    transform: rotateY(180deg);
  }

  /* üîπ Card sides */
  .front, .back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border: 4px solid #333;
    border-radius: 25px;
    padding: 5vw;
    box-sizing: border-box;
    text-align: center;
  }

  .front { background: #ffffff; }
  .back  { background: #e0f7fa; transform: rotateY(180deg); }

  /* üîπ Text styles */
  .vn-text {
    font-size: 6vw;
    font-weight: bold;
    color: #000;               /* Vietnamese text in black */
    margin: 1vw 0;
    line-height: 1.4;
  }

  .en-text {
    font-size: 6vw;
    font-weight: bold;
    color: #0077cc;            /* English text in blue */
    margin: 1vw 0;
    line-height: 1.4;
  }

  /* üîπ Question number */
  .question-number {
    position: absolute;
    top: 1vh;
    left: 50%;
    transform: translateX(-50%);
    font-size: 6vw;
    font-weight: bold;
    color: #222;
    text-shadow: 1px 1px 2px #ccc;
  }

  /* üîπ Buttons */
  .button-container {
    position: fixed;
    bottom: 2vh;
    left: 0;
    right: 0;
    display: flex;
    justify-content: center;
    gap: 8vw;
    z-index: 10;
  }

  button {
    flex: 1;
    padding: 2vh 0;
    border: none;
    background: #0077cc;
    color: #fff;
    border-radius: 18px;
    cursor: pointer;
    font-size: 5.5vw;
    font-weight: bold;
    box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    max-width: 40vw;
    white-space: nowrap;
  }

  button:hover { background: #005fa3; }

  .highlight {
    background-color: #fff176;
    color: #000;
    padding: 0 4px;
    border-radius: 4px;
    font-weight: bold;
    text-transform: uppercase;
  }

  @media (min-width: 768px) {
    h2 { font-size: 40px; }
    .vn-text, .en-text { font-size: 28px; }
    .question-number { font-size: 24px; }
    .button-container { gap: 3vw; bottom: 3vh; }
    button {
      font-size: 22px;
      padding: 12px 0;
      max-width: 220px;
    }
  }
</style>
</head>

<body>

<h2>üáªüá≥üá∫üá∏ Civics Flashcards</h2>
<p>Tap the card to flip between Question and Answer</p>

<div id="flashcard" class="flashcard">
  <div class="card" onclick="this.classList.toggle('flip')">
    <div class="front">
      <div class="question-number" id="qnum-front"></div>
      <p id="question-vn" class="vn-text"></p>
      <p id="question-en" class="en-text"></p>
    </div>
    <div class="back">
      <div class="question-number" id="qnum-back"></div>
      <p id="answer-vn" class="vn-text"></p>
      <p id="answer-en" class="en-text"></p>
    </div>
  </div>
</div>

<!-- üîπ Container for all controls -->
<div class="button-container"
     style="display:flex; flex-direction:column; align-items:center; gap:4vh; margin-top:3vh;">

  <!-- üî¢ Go-to-Question Section -->
  <div class="goto-container"
       style="display:flex; justify-content:center; align-items:center;
              gap:3vw; margin-bottom:2vh;">
    <input type="number" id="gotoInput" min="1" max="100"
           placeholder="Nh·∫≠p s·ªë c√¢u (1‚Äì100)"
           style="font-size:6vw; padding:1.2vh 2vw; width:40vw; border-radius:12px;
                  text-align:center; border:2px solid #0077cc;">
    <button onclick="gotoCard()"
            style="font-size:6vw; padding:1.2vh 3vw; border:none; border-radius:12px;
                   background:#0077cc; color:white; font-weight:bold;">
       ƒê·∫øn c√¢u h·ªèi
    </button>
  </div>

  <!-- ‚¨ÖÔ∏è‚û°Ô∏è Navigation Buttons -->
  <div class="nav-buttons"
       style="display:flex; justify-content:center; align-items:center; gap:10vw;">
    <button id="prevBtn" onclick="prevCard()"
            style="flex:none; font-size:7vw; padding:2vh 6vw; min-width:35vw;
                   border:none; border-radius:20px; background:#0077cc;
                   color:white; font-weight:bold; box-shadow:0 5px 8px rgba(0,0,0,0.25);">
      ‚¨ÖÔ∏è Tr∆∞·ªõc
    </button>
    <button id="nextBtn" onclick="nextCard()"
            style="flex:none; font-size:7vw; padding:2vh 6vw; min-width:35vw;
                   border:none; border-radius:20px; background:#0077cc;
                   color:white; font-weight:bold; box-shadow:0 5px 8px rgba(0,0,0,0.25);">
      Ti·∫øp ‚û°Ô∏è
    </button>
  </div>
</div>




<script>
  
let index = 0;
  // ‚úÖ Load from civics_questions_vi_en.json in same folder
fetch("civics_questions_vi_en.json")
  .then(r => r.json())
  .then(data => {
    cards = data;
    showCard(0);
  })
  .catch(err => {
    console.error("‚ùå Error loading JSON:", err);
    alert("Kh√¥ng th·ªÉ t·∫£i file c√¢u h·ªèi. Ki·ªÉm tra console ƒë·ªÉ xem l·ªói.");
  });

function showCard(i){
  // üîπ Update text on front and back (Vietnamese + English)
  document.getElementById("question-vn").innerHTML = cards[i].q_vn;
  document.getElementById("question-en").innerHTML = cards[i].q_en;
  document.getElementById("answer-vn").innerHTML = cards[i].a_vn;
  document.getElementById("answer-en").innerHTML = cards[i].a_en;

  // üîπ Update the question number text
  document.getElementById("qnum-front").innerText = "C√¢u h·ªèi " + (i + 1) + " / " + cards.length;
  document.getElementById("qnum-back").innerText  = "C√¢u h·ªèi " + (i + 1) + " / " + cards.length;

  // üîπ Reset flip state
  document.querySelector('.card').classList.remove('flip');

  // üîπ Hide or show navigation buttons
  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");

  if (i === 0) {
    prevBtn.style.visibility = "none";   // hide "Tr∆∞·ªõc" on first card
  } else {
    prevBtn.style.visibility = "visible";
  }

  if (i === cards.length - 1) {
    nextBtn.style.visibility = "";   // hide "Ti·∫øp" on last card
  } else {
    nextBtn.style.visibility = "visible";
  }
}

function nextCard(){
  if(index < cards.length - 1){
    index++;
    showCard(index);
  }
}

function prevCard(){
  if(index > 0){
    index--;
    showCard(index);
  }
}

  function gotoCard() {
  const input = document.getElementById("gotoInput");
  const num = parseInt(input.value, 10);

  if (!isNaN(num) && num >= 1 && num <= cards.length) {
    index = num - 1;
    showCard(index);
  } else {
    alert("Vui l√≤ng nh·∫≠p s·ªë c√¢u t·ª´ 1 ƒë·∫øn " + cards.length);
  }
}


document.addEventListener("DOMContentLoaded", () => showCard(index));
</script>

</body>
</html>
